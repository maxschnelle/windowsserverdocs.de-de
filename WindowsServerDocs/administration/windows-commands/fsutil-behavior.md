---
title: Fsutil-Verhalten
ms.prod: windows-server
manager: dmoss
ms.author: toklima
author: toklima
ms.technology: storage
audience: IT Pro
ms.topic: article
ms.date: 10/16/2017
ms.assetid: 84eaba2c-c0af-49e1-bbbd-2ed2928e5e4b
ms.openlocfilehash: 3ad6ad8d31bbcb4e9c70192efda37a9836eac14b
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/27/2019
ms.locfileid: "71377024"
---
# <a name="fsutil-behavior"></a>Fsutil-Verhalten

>Gilt für: Windows Server (halbjährlicher Kanal), Windows Server 2016, Windows 10, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows Server 2008 R2, Windows 7

Fragt das NTFS-volumeverhalten ab oder legt es fest, einschließlich:

-   Die Erstellung von Dateinamen mit einer Länge von 8,3 Zeichen.

-   Verwendung von erweiterten Zeichen in 8,3 kurzen Dateinamen mit Zeichen Länge auf NTFS-Volumes

-   Die Aktualisierung des letzten Zugriffszeit Stempels, wenn Verzeichnisse auf NTFS-Volumes aufgelistet werden

-   Die Häufigkeit, mit der Kontingent Ereignisse in das System Protokoll und in den NTFS-Auslagerungs Pool und die Speicher Cache Ebenen für nicht auslagerbare NTFS-Pools geschrieben werden.

-   Die Größe der Master Datei-tabellenzone (MFT-Zone).

-   Automatisches Löschen von Daten, wenn das System auf einem NTFS-Volume beschädigt ist.

-   Datei Lösch Benachrichtigung (auch als Trim oder unmap bezeichnet)

Beispiele für das Verwenden dieses Befehls finden Sie unter [Beispiele](#BKMK_examples).

## <a name="syntax"></a>Syntax

```
fsutil behavior query {allowextchar | bugcheckoncorrupt | disable8dot3 [<VolumePath>] | disablecompression | disablecompressionlimit | disableencryption | disablefilemetadataoptimization | disablelastaccess | disablespotcorruptionhandling | disabletxf | disablewriteautotiering | encryptpagingfile | mftzone | memoryusage | quotanotify | symlinkevaluation | disabledeletenotify}

fsutil behavior set {allowextchar {1|0} | bugcheckoncorrupt {1|0} | disable8dot3 [ <Value> | [<VolumePath> {1|0}] ] | disablecompression {1|0} | disablecompressionlimit {1|0} | disableencryption {1|0} | disablefilemetadataoptimization {1|0} | disablelastaccess {1|0} | disablespotcorruptionhandling {1|0} | disabletxf {1|0} | disablewriteautotiering {1|0} | encryptpagingfile {1|0} | mftzone <Value> | memoryusage <Value> | quotanotify <Frequency> | symlinkevaluation <SymbolicLinkType> | disabledeletenotify {1|0}}
```

## <a name="parameters"></a>Parameter

|                 Parameter                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|--------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                   query                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Fragt die Verhaltensparameter des Dateisystems ab.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                    set                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Ändert die Verhaltensparameter des Dateisystems.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|          Zuordnung von "Zuweisung" {1&#124;0}           |                                                                                                                                                                                                                                                                                                                                                                                                                                  Ermöglicht (**1**) oder verweigert (**0**) Zeichen aus dem erweiterten Zeichensatz (einschließlich diakritischer Zeichen), der in 8,3-kurzen Dateinamen auf NTFS-Volumes verwendet werden soll.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|        Bugcheckonbeschädigt {1&#124;0}        |                                                                                                                                                                                                                                                                                                                                                                      Ermöglicht (**1**) oder nicht die Generierung einer Fehlerüberprüfung (**0**), wenn auf einem NTFS-Volume eine Beschädigung vorliegt. Diese Funktion kann verwendet werden, um zu verhindern, dass NTFS Daten im Hintergrund löscht, wenn Sie mit der Funktion für die Selbstreparatur von NTFS verwendet werden.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.<br /><br />Dieser Parameter gilt für:  Windows Server 2008 R2 und Windows 7.                                                                                                                                                                                                                                                                                                                                                                      |
|   disable8dot3 [<VolumePath>] {1&#124;0}   |                                                                                                                                                                                                                                                                                                                                                                                                                                                       Deaktiviert (**1**) oder aktiviert (**0**) die Erstellung von Dateinamen mit einer Länge von 8,3 Zeichen in FAT-und NTFS-formatierten Volumes. Optional können Sie den *volumepath* als Laufwerk Namen, gefolgt von einem Doppelpunkt oder einer GUID, als Präfix angeben.                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|       disablecompression {1&#124;0}        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Deaktiviert **(1)** oder aktiviert **(0)** NTFS-Komprimierung.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|     disablecompressionlimit {1&#124;0}     |                                                                                                                                                                                                                                                                                   Deaktiviert **(1)** oder aktiviert **(0)** NTFS-Komprimierungs Limit für das NTFS-Volume. Wenn eine komprimierte Datei eine bestimmte Fragmentierung erreicht, anstatt die Datei zu erweitern, beendet NTFS die Komprimierung zusätzlicher Blöcke der Datei. Dies wurde durchgeführt, damit komprimierte Dateien größer sind als normal. Wenn dieser Wert auf true festgelegt wird, wird diese Funktion deaktiviert, wodurch die Größe der komprimierten Dateien auf dem System beschränkt wird. Es wird nicht empfohlen, diese Funktion zu deaktivieren.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                   |
|        DisableEncryption {1&#124;0}        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Deaktiviert **(1)** oder aktiviert **(0)** die Verschlüsselung von Ordnern und Dateien auf NTFS-Volumes.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| disablefilemetadataoptimization {1&#124;0} |                                                                                                                                                                                                                                                                                                                      Deaktiviert **(1)** oder aktiviert **(0)** die Datei-metadatenoptimierung. NTFS hat eine Beschränkung für die Anzahl von Blöcken, die eine bestimmte Datei aufweisen kann. Komprimierte und Spares Dateien können stark fragmentiert werden. Standardmäßig komprimiert NTFS seine internen Metadatenstrukturen in regelmäßigen Abständen, um mehr fragmentierte Dateien zu ermöglichen. Wenn dieser Wert auf true festgelegt wird, wird diese interne Optimierung deaktiviert. Es wird nicht empfohlen, diese Funktion zu deaktivieren.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                       |
|        disablelastaccess {1&#124;0}        |                                                                                                                                                                                                                                                                                                                                                                                                                                                       Deaktiviert (**1**) oder aktiviert (**0**) Aktualisierungen des letzten Zugriffszeit Stempels in jedem Verzeichnis, wenn Verzeichnisse auf einem NTFS-Volume aufgelistet sind.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|  disablespotkorruptions Handling {1&#124;0}  |                                                                                                                                                                                                                                                                                                                                                    Deaktiviert **(1)** oder aktiviert **(0)** Beschädigung der Beschädigung. Eines der neuen Features in Windows 8 und Windows Server 2012 ist eine neue hoch Verfügbarkeits Form von Chkdsk. Diese Funktion ermöglicht es Systemadministratoren, Chkdsk auszuführen, um den Status eines Volumes zu analysieren, ohne es offline schalten zu müssen. Es wird nicht empfohlen, diese Funktion zu deaktivieren.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                    |
|           disabletxf {1&#124;0}            |                                                                                                                                                                                                                                                                                                                                                                         Deaktiviert **(1)** oder aktiviert **(0)** TxF auf dem angegebenen NTFS-Volume. TxF ist ein NTFS-Feature, das Transaktionen wie Semantik für Dateisystem Vorgänge bereitstellt. TxF ist derzeit als veraltet markiert, obwohl die Funktionalität weiterhin verfügbar ist. Es wird nicht empfohlen, diese Funktion auf dem Volume "C:" zu deaktivieren.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                          |
|     disableschreiteautotiering {1&#124;0}     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Deaktiviert die automatische Aktivierung von refs v2 für mehrstufige Volumes.<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|        verschlüsseltpagingdatei {1&#124;0}        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Verschlüsselt (**1**) oder verschlüsselt die Speicher Auslagerungs Datei im Windows-Betriebssystem nicht (**0**).<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|              MF-Datei <Value>               |                                                                                                                                                                                                                                                                                                                                                                                                                                           Legt die Größe der MFT-Zone fest und wird als Vielfaches von 200-MB-Einheiten angegeben. Legen Sie den Wert auf eine Zahl von **1** fest (der Standardwert ist 200 MB) bis **4** (der höchst *Wert* beträgt 800 MB).<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|            memoryusage <Value>             |                                                                                                                                                                                                                                                                                   Konfiguriert die internen Cache Ebenen für den Speicher des NTFS-Auslagerungs Pools und den Speicher für nicht auslagerbare NTFS-Pools. Legen Sie auf **1** oder **2**fest. Wenn der Wert auf **1** festgelegt ist (Standardeinstellung), verwendet NTFS die Standardgröße des Arbeitsspeichers für Auslagerungs Pools. Wenn der Wert auf **2**festgelegt ist, vergrößert NTFS die Größe seiner Lookaside-Listen und Arbeitsspeicher Schwellenwerte. (Eine Lookaside-Liste ist ein Pool von Speicher Puffern fester Größe, die der Kernel und die Gerätetreiber als private Speicher Caches für Dateisystem Vorgänge erstellen, z. b. das Lesen einer Datei.)<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                   |
|          quotanotify <Frequency>           |                                                                                                                                                                                                                                                                                                                                                                                                                                  Konfiguriert, wie oft NTFS-Kontingent Verletzungen im System Protokoll gemeldet werden. Gültige Werte für liegen im Bereich von 0 – 4294967295. Die Standard Häufigkeit beträgt 3600 Sekunden (eine Stunde).<br /><br />Sie müssen den Computer neu starten, damit dieser Parameter wirksam wird.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|    symlinkevaluation <SymbolicLinkType>    |                                                                                                                                                                                                                                                                                                                                                                                                   Steuert die Art von symbolischen Verknüpfungen, die auf einem Computer erstellt werden können. Folgende Optionen sind gültig:<br /><br />1.  Symbolische Verknüpfungen lokal zu lokal, L2L: {&#124;0 1}<br />2.  Symbolische Verknüpfungen lokal zu Remote, L2R: {&#124;0 1}<br />3.  Symbolische Verknüpfungen für Remote-zu-lokal,&#124;R2R: {0 1}<br />4.  Symbolische Verknüpfungen von Remote zu Remote, R2L:&#124;{0 1}                                                                                                                                                                                                                                                                                                                                                                                                   |
|            Disabledeletenotify             | Deaktiviert \(**1**\) oder aktiviert \(**0**\) delete-Benachrichtigungen. DELETE Notification \(auch bekannt als Trim oder unmap @ no__t-1 ist ein Feature, das das zugrunde liegende Speichergerät von Clustern benachrichtigt, die aufgrund eines Datei Löschvorgangs freigegeben wurden. Beachten Sie auch Folgendes:<br /><br />-Für Systeme, die refs v2 verwenden, ist Trim standardmäßig deaktiviert. Gilt für Windows Server 2016.<br />-Für Systeme, die refs v1 verwenden, ist Trim standardmäßig aktiviert. Gilt für Windows Server 2012, Windows Server 2012 R2 und Windows Server 2016.<br />-Für Systeme, die NTFS verwenden, ist Trim standardmäßig aktiviert, sofern dies nicht von einem Administrator deaktiviert wird.<br />-Wenn Ihr Festplattenlaufwerk oder San meldet, dass Trim nicht unterstützt wird, erhalten die Festplatte und die Sans keine Trim-Benachrichtigungen.<br />-Das Aktivieren oder Deaktivieren von erfordert keinen Neustart.<br />-Trim ist wirksam, wenn der nächste aufheben-Befehl ausgegeben wird.<br />-Vorhandene Flight-e/a sind von der Registrierungs Änderung nicht betroffen.<br />-Erfordert keinen Dienst Neustart, wenn Sie Trim aktivieren oder deaktivieren.<br /><br />Dieser Parameter wurde in Windows Server 2008 R2 und Windows 7 eingeführt. |

## <a name="remarks"></a>Hinweise

-   Die MFT-Zone ist ein reservierter Bereich, der es ermöglicht, dass die Master Dateitabelle (MFT) nach Bedarf erweitert wird, um die MFT-Fragmentierung zu verhindern. Wenn die durchschnittliche Dateigröße auf dem Volume 2 KB oder weniger beträgt, kann es vorteilhaft sein, den **mftzone** -Wert auf 2 festzulegen. Wenn die durchschnittliche Dateigröße auf dem Volume mindestens 1 KB beträgt, kann es vorteilhaft sein, den **mftzone** -Wert auf 4 festzulegen.

-   Wenn **disable8dot3** auf **0**festgelegt ist, erstellt NTFS jedes Mal, wenn Sie eine Datei mit einem langen Dateinamen erstellen, einen zweiten Datei Eintrag mit einem Dateinamen, der aus 8,3 Zeichen besteht. Wenn NTFS Dateien in einem Verzeichnis erstellt, muss es die 8,3-Dateinamen nachschlagen, die den langen Dateinamen zugeordnet sind. Mit diesem Parameter wird der Registrierungsschlüssel " **hklm\system\currentcontrolset\control\filesystem\ntfsdisable8dot3namecreations** " aktualisiert.

-   Mit dem Parameter " **zugswextchar** " wird der Registrierungsschlüssel " **hklm\system\currentcontrolset\control\filesystem\ntf-Name** " aktualisiert.

-   Der **disablelastaccess** -Parameter reduziert die Auswirkungen der Protokollierung von Aktualisierungen auf den Zeitstempel des letzten Zugriffs auf Dateien und Verzeichnisse. Durch das Deaktivieren der **Zeit des letzten Zugriffs Zeitraums** wird die Geschwindigkeit des Datei-und Verzeichniszugriffs verbessert. Mit diesem Parameter wird der Registrierungsschlüssel " **hklm\system\currentcontrolset\control\filesystem\ntfsdisablelastaccessupdate** " aktualisiert.

    Hinweise:

    -   Dateibasierte Zeit für den Zugriff auf den **letzten Zugriff** ist auch dann korrekt, wenn alle Werte auf dem Datenträger nicht aktuell sind. NTFS gibt den korrekten Wert für Abfragen zurück, da der genaue Wert im Arbeitsspeicher gespeichert wird.

    -   Eine Stunde ist die maximale Zeitspanne, die NTFS für die Aktualisierung des **letzten Zugriffs** auf dem Datenträger gilt. Wenn NTFS andere Dateiattribute aktualisiert, wie z. b. die **Uhrzeit der letzten Änderung**, und ein **Zeitpunkt des letzten Zugriffs** auf das Update aussteht, aktualisiert NTFS den **Zeitpunkt des letzten Zugriffs** mit den anderen Updates ohne zusätzliche Beeinträchtigung der Leistung.

    -   Der **disablelastaccess** -Parameter kann sich auf Programme wie Sicherung und Remote Speicher auswirken, die auf dieser Funktion basieren.

-   Durch Vergrößern des physischen Speichers erhöht sich nicht immer der für NTFS verfügbare Auslagerungs Pool. Durch Festlegen von **memoryusage** auf **2** wird das Limit für den auslagerungspoolarbeitsspeicher erhöht. Dies kann die Leistung verbessern, wenn Ihr System viele Dateien im gleichen Dateisatz öffnet und schließt und Sie nicht bereits große Mengen an System Arbeitsspeicher für andere Anwendungen oder den Cache Speicher verwenden. Wenn Ihr Computer bereits große Mengen an System Arbeitsspeicher für andere Anwendungen oder den Cache Speicher verwendet, verringert sich der verfügbare Pool Arbeitsspeicher für andere Prozesse, wenn Sie das Limit für den auslagerbaren NTFS-Speicher und den nicht auslagerbaren Pool Speicher erhöhen. Dies kann die Gesamtleistung des Systems beeinträchtigen. Mit diesem Parameter wird der Registrierungsschlüssel " **HKLM\SYSTEM\CurrentControlSet\Control\FileSystem\NtfsMemoryUsage** " aktualisiert.

-   Der im **mftzone** -Parameter angegebene Wert ist ein Näherungswert für die anfängliche Größe des MFT zuzüglich der MFT-Zone auf einem neuen Volume und wird beim Bereitstellungs Zeitpunkt für jedes Dateisystem festgelegt. Wenn Speicherplatz auf dem Volume verwendet wird, passt NTFS den für das zukünftige MFT-Wachstum reservierten Speicherplatz an. Wenn die MFT-Zone bereits groß ist, ist die vollständige MFT-Zonen Größe nicht erneut reserviert. Da die MFT-Zone auf dem zusammenhängenden Bereich liegt, der hinter dem Ende der MFT liegt, verkleinert Sie sich, wenn der Speicherplatz verwendet wird.

    Das Dateisystem bestimmt nicht den neuen Speicherort der MFT-Zone, bis die aktuelle MFT-Zone vollständig genutzt wird. Beachten Sie, dass dies nie auf einem typischen System auftritt.

-   Bei einigen Geräten treten Leistungseinbußen auf, wenn die Funktion zum Löschen von Benachrichtigungen aktiviert ist. Verwenden Sie in diesem Fall die Option **disabledeletenotify** , um das Benachrichtigungs Feature zu deaktivieren.

### <a name="BKMK_examples"></a>Beispiele
Geben Sie Folgendes ein, um das "8.3-namens Verhalten" für ein mit der GUID angegebene Datenträger Volume ({928842df-5a01-11de-a85c-806e6f6e6963}) abzufragen:

```
fsutil behavior query disable8dot3 Volume{928842df-5a01-11de-a85c-806e6f6e6963}
```

Sie können das 8.3-namens Verhalten auch Abfragen, indem Sie den Unterbefehl **8dot3name** verwenden.

Um das System abzufragen, ob Trim aktiviert ist, geben Sie Folgendes ein:

```
fsutil behavior query DisableDeleteNotify
```
Dies ergibt eine Ausgabe ähnlich der folgenden:

    NTFS DisableDeleteNotify = 1
    ReFS DisableDeleteNotify is not currently set

Um das Standardverhalten für Trim \(disabledeletenotify @ no__t-1 für Refs v2 zu überschreiben, geben Sie Folgendes ein:

```
fsutil behavior set DisableDeleteNotify ReFS 0
```

Um das Standardverhalten für Trim \(disabledeletenotify @ no__t-1 für NTFS und Refs V1 zu überschreiben, geben Sie Folgendes ein:
```
fsutil behavior set DisableDeleteNotify 1
```

#### <a name="additional-references"></a>Weitere Verweise
[Erläuterung zur Befehlszeilensyntax](Command-Line-Syntax-Key.md)

[Fsutil](Fsutil.md)

["F", "8dot3name"](Fsutil-8dot3name.md)


